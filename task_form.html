<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Task</title>

    <link rel="stylesheet" href="css/sidebar.css" />
    <link rel="stylesheet" href="css/navbar.css" />
    <link rel="stylesheet" href="css/task_form.css" />
    <link rel="icon" type="image/png" href="/assets/img/favicon.png" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://getbootstrap.com/docs/5.3/assets/css/docs.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="/backend_new/storage_new.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/navbar.js"></script>
    <script src="/js/tasks.js"></script>
    <script src="js/board.js"></script>
    
  </head>
  <body onload="includeHTML(); initTasks()" style="background-color: #f5f5f5">
    <div
      class="sidebar-container"
      w3-include-html="/assets/templates_html/sidebar_template.html"
    ></div>
    <div
      class="navbar-container"
      w3-include-html="/assets/templates_html/navbar_template.html"
    ></div>

    <div class="task-card task-card-scroll">
      <div class="margin-bottom-60">
        <span class="headline-text">Add Task</span>
      </div>

      <div>
        <div id="taskAdded" class="taskAdded d-none">
          <img src="/assets/img/task_Added.svg" alt="" />
        </div>
      </div>

      <form class="column-container" onsubmit="addNewTask() ; return false">
        <div class="column-left">
          <label>Title</label>

          <input type="text" id="title" placeholder="Enter a title" required />

          <label>Description</label>

          <textarea
            id="description"
            placeholder="Enter a description"
          ></textarea>

          <label>Category</label>

          <select
            class="form-select"
            id="category"
            aria-label="Default select example"
            required
            onchange="getSelectedOption()"
          >
            <option selected="">Select task category</option>
            <option value="1">New category</option>
            <option value="2">Sales</option>
            <option value="3">Backoffice</option>
          </select>

          <div id="inputField" style="display: none;">
            <input type="text" class="form-control" placeholder="Enter new category" id="textInput">
            <div class="inputColorField" id="colorPicker">
              <div onclick="pickedColor(`color1`)" id="color1" class="color-option" style="background-color: #FF0000;"></div> <!-- Red -->
              <div onclick="pickedColor(`color2`)" id="color2" class="color-option" style="background-color: #00FF00;"></div> <!-- Green -->
              <div onclick="pickedColor(`color3`)" id="color3" class="color-option" style="background-color: #0000FF;"></div> <!-- Blue -->
              <div onclick="pickedColor(`color4`)" id="color4" class="color-option" style="background-color: #FFFF00;"></div> <!-- Yellow -->
              <div onclick="pickedColor(`color5`)" id="color5" class="color-option" style="background-color: #FF00FF;"></div> <!-- Magenta -->
            </div>
          </div>

          <label>Assigned to</label>

          <select
            class="form-select"
            id="assignMenu"
            aria-label="Default select example"
            required
            onchange="getSelectedAssignment()"
          >
            <option selected="">Select task category</option>
            <option value="1">New category</option>
            <option value="2">Sales</option>
            <option value="3">Backoffice</option>
          </select>
        </div>
        <div class="border"></div>

        <div class="column-right">
          <label>Due Date</label>

          <input
            min="2023-05-08"
            id="datePicker"
            type="date"
            placeholder="Enter a description"
            required
          /><br /><br />

          <label>Prio</label>

          <div id="prio" class="prio">
            <div class="prio-btn" id="prioUrgent" onclick="TaskButtonUrgent()">
              Urgent
              <img id="imgUrgent" src="/assets/img/icon_up.png" alt="" />
            </div>
            <div class="prio-btn" id="prioMedium" onclick="TaskButtonMedium()">
              Medium
              <img id="imgMedium" src="/assets/img/icon_medium.png" alt="" />
            </div>
            <div class="prio-btn" id="prioLow" onclick="TaskButtonLow()">
              Low
              <img id="imgLow" src="/assets/img/icon_down.png" alt="" />
            </div>
          </div>

          <label class="subtask">Subtasks</label>
          <div class="subtask-container">
            <input type="text" id="subtask-input-content" />

            <div id="subtaskOninput" style="display: flex">
              <img src="/assets/img/X.png" id="clearSubtaskInput" />
              <div class="border-subtask"></div>
              <img
                src="/assets/img/icon_check.svg"
                onclick="subTaskAddToJson()"
                id="finishEditingSubtask"
              />
            </div>
          </div>

          <div id="subtaskContent"></div>

          <div class="action-button-container">
            <img
              id="clearTask"
              onclick="clearTaskForm()"
              src="/assets/img/cancel-task.svg"
            />
            <button id="addTask" class="add-task-btn" type="submit">
              Create Task
            </button>
          </div>
        </div>
      </form>
    </div>
  </body>
</html>
