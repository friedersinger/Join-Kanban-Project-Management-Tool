<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Board</title>
    <link rel="icon" type="image/png" href="./assets/img/favicon.png" />

    <link rel="stylesheet" href="./css/board.css" />
    <link rel="stylesheet" href="./css/sidebar.css" />
    <link rel="stylesheet" href="./css/navbar.css" />
    <link rel="stylesheet" href="./css/board-edit-popup.css" />
    <link rel="stylesheet" href="./css/board-task-popup.css" />


    <script src="./js/navbar.js"></script>
    <script src="./backend_new/storage_new.js"></script>
    <script src="./js/board_template.js"></script>
    <script src="./js/script.js"></script>
    <script src="./js/tasks.js"></script>
    <script src="./js/board.js"></script>
    <script src="./js/board_drag_drop.js"></script>
  </head>

  <body onload="includeHTML();initBoard()">

    <!--AddTask PopUp -->

    <div id="overlayPopUpbg" class="overlay-board-bg d-none">
              
      <div class="overlayBoardBg">
        <div class="justify-end">
          <div class="close-btn cursor-pointer" onclick="hideAddTaskPopUp()">
            <svg
            width="31"
            height="31"
            viewBox="0 0 31 31"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M22.9614 7.65381L7.65367 22.9616"
              stroke="#2A3647"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M22.8169 23.106L7.50914 7.7982"
              stroke="#2A3647"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
          </div>
        </div>
        <div class="task-card task-card-scroll">
          <div class="margin-bottom-60">
            <span class="headline-text">Add Task</span>
          </div>
        <div class="flex-row align-center justify-between">
          <div class="form center">
            <form class="column-container-addTask" onsubmit="" ; return false>
              <div class="column-left">
                <label>Title</label>
      
                <input type="text" id="titleTaskPopUp" placeholder="Enter a title" required />
      
                <label>Description</label>
      
                <textarea
                  id="description"
                  placeholder="Enter a description"
                ></textarea>
      
                <label>Category</label>
      
                <select
                  class="form-select"
                  aria-label="Default select example"
                  required
                  onchange="getSelectedOption()"
                >
                  <option selected="">Select task category</option>
                  <option value="1">New category</option>
                  <option value="2">Sales</option>
                  <option value="3">Backoffice</option>
                </select>
      
                <div id="inputField" style="display: none;">
                  <input type="text" class="form-control" placeholder="Enter new category" id="textInput">
                  <div class="inputColorField" id="colorPicker">
                    <div onclick="pickedColor(`color1`)" id="color1" class="color-option" style="background-color: #FF0000;"></div> <!-- Red -->
                    <div onclick="pickedColor(`color2`)" id="color2" class="color-option" style="background-color: #00FF00;"></div> <!-- Green -->
                    <div onclick="pickedColor(`color3`)" id="color3" class="color-option" style="background-color: #0000FF;"></div> <!-- Blue -->
                    <div onclick="pickedColor(`color4`)" id="color4" class="color-option" style="background-color: #FFFF00;"></div> <!-- Yellow -->
                    <div onclick="pickedColor(`color5`)" id="color5" class="color-option" style="background-color: #FF00FF;"></div> <!-- Magenta -->
                  </div>
                </div>
      
                <label>Assigned to</label>
      
                <select
                  class="form-select"
                  aria-label="Default select example"
                  required
                  onchange="getSelectedAssignment()"
                  id="assignMenu"
                >
                  <option selected="">Select task category</option>
                  <option value="1">New category</option>
                  <option value="2">Sales</option>
                  <option value="3">Backoffice</option>
                </select>
              </div>
              <div class="border-margin"></div>
      
              <div class="column-right">
                <label>Due Date</label>
      
                <input
                  min="2023-05-08"
                  id="datePicker"
                  type="date"
                  placeholder="Enter a description"
                  required
                /><br /><br />
      
                <label>Prio</label>
      
                <div id="prio" class="prio">
                  <div class="prio-btn" id="prioUrgent" onclick="TaskButtonUrgent()">
                    Urgent
                    <img id="imgUrgent" src="./assets/img/icon_up.png" alt="" />
                  </div>
                  <div class="prio-btn" id="prioMedium" onclick="TaskButtonMedium()">
                    Medium
                    <img id="imgMedium" src="./assets/img/icon_medium.png" alt="" />
                  </div>
                  <div class="prio-btn" id="prioLow" onclick="TaskButtonLow()">
                    Low
                    <img id="imgLow" src="./assets/img/icon_down.png" alt="" />
                  </div>
                </div>
      
                <label class="subtask">Subtasks</label>
                <div class="subtask-container">
                  <input type="text" id="subtask-input-content" />
      
                  <div id="subtaskOninput" style="display: flex">
                    <img src="./assets/img/X.png" id="clearSubtaskInput" />
                    <div class="border-subtask"></div>
                    <img
                      src="./assets/img/icon_check.svg"
                      onclick="subTaskAddToJson()"
                      id="finishEditingSubtask"
                    />
                  </div>
                </div>
      
                <div id="subtaskContent"></div>
      
                <div class="action-button-container">
                  <img
                    id="clearTask"
                    onclick="hideAddTaskPopUp()"
                    src="./assets/img/cancel-task.svg"
                  />
                  <button id="addTask" class="add-task-btn-board" type="submit">
                    Create Task
                  </button>
                </div>
              </div>
            </form>
            
          </div>
        </div>
      </form>

    </div>
  </div>
</div>


    <div class="overlay-bg d-none" id="overlay"></div>
    <div
      class="sidebar-container"
      w3-include-html="./assets/templates_html/sidebar_template.html"
    ></div>
    <div
      class="navbar-container"
      w3-include-html="./assets/templates_html/navbar_template.html"
    ></div>

    <div class="board-main-container inner-content">
      <span id="headline-mobile" class="headline-text-mobile"
        >Kanban Project Management Tool</span
      >

      <div class="headline-container">
        <div class="headline-left">
          <span class="headline-text headline-text-container">Board</span>
          <div
            onclick="redirectToAddTask()"
            id="add-task-btn-board-mobile"
            class="add-task-btn-board-mobile"
          >
            <button>
              <img src="./assets/img/plus-icon.svg" alt="" />
            </button>
          </div>
        </div>
        <div class="board-headline-right">
          <div class="subtask-container">
            <input
              id="search-input"
              oninput="searchForTaskByInput()"
              placeholder="Search..."
            />

            <div id="search-input-images" style="display: flex">
              <div class="border-subtask"></div>
              <img
                src="./assets/img/search-icon.png"
                id="finishEditingSubtask"
              />
            </div>
          </div>

          <div
            onclick="redirectToAddTask()"
            id="add-task-btn-board"
            class="add-task-btn-board"
          >
            <button>Add Task</button>
            <img src="./assets/img/plus-icon.svg" alt="" />
          </div>
        </div>
      </div>

      <div class="board-content">
        <div class="board-content-element" id="toDoContainer">
          <div class="task-type">
            <span>To Do</span>
            <svg
              onclick="showAddTaskPopUp()"
              class="svg"
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15 7.5V22.5"
                stroke="#2A3647"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M22.5 15.1416L7.5 15.1416"
                stroke="#2A3647"
                stroke-width="2"
                stroke-linecap="round"
              />
              <rect
                x="1"
                y="1"
                width="28"
                height="28"
                rx="9"
                stroke="#2A3647"
                stroke-width="2"
              />
            </svg>
          </div>
          <div
            class="drop-area"
            id="toDo"
            ondrop="moveTo('toDo')"
            ondragover="allowDrop(event)"
          >
            <!--DropArea TO DO-->
          </div>
        </div>

        <div class="board-content-element" id="progressContainer">
          <div class="task-type">
            <span>In progress</span>
            <svg
              onclick="showAddTaskPopUp()"
              class="svg"
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15 7.5V22.5"
                stroke="#2A3647"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M22.5 15.1416L7.5 15.1416"
                stroke="#2A3647"
                stroke-width="2"
                stroke-linecap="round"
              />
              <rect
                x="1"
                y="1"
                width="28"
                height="28"
                rx="9"
                stroke="#2A3647"
                stroke-width="2"
              />
            </svg>
          </div>
          <div
            class="drop-area"
            id="inProgress"
            ondrop="moveTo('inProgress')"
            ondragover="allowDrop(event)"
          >
            <!--DropArea IN PROGRESS-->
          </div>
        </div>
        <div class="board-content-element" id="feedbackContainer">
          <div class="task-type">
            <span>Awaiting feedback</span>
            <svg
              onclick="showAddTaskPopUp()"
              class="svg"
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15 7.5V22.5"
                stroke="#2A3647"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M22.5 15.1416L7.5 15.1416"
                stroke="#2A3647"
                stroke-width="2"
                stroke-linecap="round"
              />
              <rect
                x="1"
                y="1"
                width="28"
                height="28"
                rx="9"
                stroke="#2A3647"
                stroke-width="2"
              />
            </svg>
          </div>
          <div
            class="drop-area"
            id="feedback"
            ondrop="moveTo('feedback')"
            ondragover="allowDrop(event)"
          >
            <!--DropArea FEEDBACK-->
          </div>
        </div>
        <div class="board-content-element" id="doneContainer">
          <div class="task-type">
            <span>Done</span>
            <svg
              onclick="showAddTaskPopUp()"
              class="svg"
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15 7.5V22.5"
                stroke="#2A3647"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M22.5 15.1416L7.5 15.1416"
                stroke="#2A3647"
                stroke-width="2"
                stroke-linecap="round"
              />
              <rect
                x="1"
                y="1"
                width="28"
                height="28"
                rx="9"
                stroke="#2A3647"
                stroke-width="2"
              />
            </svg>
          </div>
          <div
            class="drop-area"
            id="done"
            ondrop="moveTo('done')"
            ondragover="allowDrop(event)"
          >
            <!--DropArea DONE-->
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
