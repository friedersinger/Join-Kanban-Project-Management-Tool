<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Task</title>

    <link rel="stylesheet" href="/css/sidebar.css" />
    <link rel="stylesheet" href="/css/navbar.css" />
    <link rel="stylesheet" href="/css/task_form.css" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://getbootstrap.com/docs/5.3/assets/css/docs.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="/js/script.js"></script>
    <script src="/js/add_task.js"></script>
    <script src="/js/navbar.js"></script>
    <script src="/backend_new/storage_new.js"></script>
    <script src="/js/tasks.js"></script>
  </head>
  <body onload="includeHTML(); initTasks()" style="background-color: #f5f5f5">
    <div
      class="sidebar-container"
      w3-include-html="/assets/templates_html/sidebar_template.html"
    ></div>
    <div
      class="navbar-container"
      w3-include-html="/assets/templates_html/navbar_template.html"
    ></div>

    <div class="task-card">
      <div class="margin-bottom-60">
        <span class="headline-text">Add Task</span>
      </div>

      <div>

      <div id="taskAdded" class="taskAdded d-none">
        <img src="/assets/img/task_Added.svg" alt="">
      </div>

      </div>

      <form class="column-container">
        <div class="column-left">
          <label>Title</label>

          <input type="text" id="title" placeholder="Enter a title" />

          <label>Description</label>

          <textarea
            id="description"
            placeholder="Enter a description"
          ></textarea>

          <label>Category</label>

          <select
            class="form-select"
            aria-label="Default select example"
            onchange="getSelectedOption()"
          >
            <option selected="">Select task category</option>
            <option value="1">New category</option>
            <option value="2">Sales</option>
            <option value="3">Backoffice</option>
          </select>

          <label>Assigned to</label>

          <div class="dropdown">
            <button
              class="btn btn-secondary dropdown-toggle"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
              style="
                display: flex;
                align-items: center;
                justify-content: space-between;
              "
            >
              Select contacts to assign
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
        </div>
        <div class="border"></div>

        <div class="column-right">
          <label>Due Date</label>

          <input
            min="2023-05-08"
            id="datePicker"
            type="date"
            placeholder="Enter a description"
          /><br /><br />

          <label>Prio</label>

          <div id="prio" class="prio">
            <div class="prio-btn">
              Urgent
              <img src="/assets/img/icon_up.png" alt="" />
            </div>
            <div class="prio-btn">
              Medium
              <img src="/assets/img/icon_medium.png" alt="" />
            </div>
            <div class="prio-btn">
              Low
              <img src="/assets/img/icon_down.png" alt="" />
            </div>
          </div>

          <label class="subtask">Subtasks</label>
          <div class="subtask-container">
            <input type="text" id="subtask-input-content" />

            <div id="subtaskOninput" style="display: flex">
              <img src="/assets/img/X.png" id="clearSubtaskInput" />
              <div class="border-subtask"></div>
              <img src="/assets/img/icon_check.svg" onclick="subTaskAddToJson()" id="finishEditingSubtask" />
            </div>
          </div>

          <div id="subtaskContent"></div>

          <div class="action-button-container">
            <img id="clearTask" src="/assets/img/cancel-task.svg" />
            <img
              id="addTask"
              src="/assets/img/create-task.svg"
              onclick="addNewTask()"
            />
          </div>
        </div>
      </form>
    </div>
  </body>
</html>
